<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Building steps and tips"><link rel=stylesheet href=/scss/style.min.60148d520bebe50aebf4462b41235459acaf37e53c35aff39c7d7cdff417b8fb.css><meta property="og:title" content="如何使用Hugo搭建一个博客(总)"><meta property="og:description" content="Building steps and tips"><meta property="og:url" content="https://morimit.github.io/2023/%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8hugo%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AA%E5%8D%9A%E5%AE%A2%E6%80%BB/"><meta property="og:site_name" content="Miaomi"><meta property="og:type" content="article"><meta property="article:section" content="Post"><meta property="article:tag" content="Blog"><meta property="article:published_time" content="2023-01-09T13:50:03+08:00"><meta property="article:modified_time" content="2024-10-28T14:15:50+08:00"><meta property="og:image" content="https://morimit.github.io/2023/%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8hugo%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AA%E5%8D%9A%E5%AE%A2%E6%80%BB/Journey.png"><meta name=twitter:title content="如何使用Hugo搭建一个博客(总)"><meta name=twitter:description content="Building steps and tips"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://morimit.github.io/2023/%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8hugo%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AA%E5%8D%9A%E5%AE%A2%E6%80%BB/Journey.png"><title>如何使用Hugo搭建一个博客(总)</title><link rel=canonical href=https://morimit.github.io/2023/%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8hugo%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AA%E5%8D%9A%E5%AE%A2%E6%80%BB/><link rel="shortcut icon" href=https://morimit.github.io/images/Miaomi.png><script async src="https://www.googletagmanager.com/gtag/js?id=G-PQVF1C80CL"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-PQVF1C80CL")</script><style>:root{--article-font-family:"Noto Serif SC", var(--base-font-family)}</style><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@300;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.setItem(e,"light")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex
<!--
extended
-->
on-phone--column extended"><div id=article-toolbar><a href=https://morimit.github.io/ class=back-home><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-chevron-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="15 6 9 12 15 18"/></svg><span>Back</span></a></div><aside class="sidebar left-sidebar sticky hide-sidebar"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label="Toggle Menu">
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header class="site-info hide"><figure class=site-avatar><a href=/><img src=/img/Miaomi_hua19cf13f29501ba92d8f6dc025826481_10563_300x0_resize_box_3.png width=300 height=300 class=site-logo loading=lazy alt=Avatar></a></figure><h1 class=site-name><a href=/>Miaomi</a></h1><h2 class=site-description>在这里存放一些小鱼干</h2><ol class=social-menu><li><a href=https://github.com/Morimit target=_blank title=GitHub><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li><li><a href=https://morimit.github.io/index.xml target=_blank title=RSS><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-rss" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="5" cy="19" r="1"/><path d="M4 4a16 16 0 0116 16"/><path d="M4 11a9 9 0 019 9"/></svg></a></li></ol></header><div class=phone-banner><figure><a href=/><img src=/img/Miaomi_hua19cf13f29501ba92d8f6dc025826481_10563_40x0_resize_box_3.png class=note-site-avatar loading=lazy alt=Avatar></a></figure><h1 class=note-site-name><a href=/>Miaomi</a></h1></div><ol class="menu menu-light-background" id=main-menu><li><a href=/archives/><span>Archive</span></a></li><li><a href=/project/><span>Project</span></a></li><li><a href=/notes/><span>Notes</span></a></li><li><a href=/about/><span>About</span></a></li></ol><footer class=site-footer><script>(function(e,t){var s=document,o="script",n=s.createElement(o),i=s.getElementsByTagName(o)[0];n.src=e,t&&n.addEventListener("load",function(e){t(e)}),i.parentNode.insertBefore(n,i)})("//cdn.bootcss.com/pangu/3.3.0/pangu.min.js",function(){pangu.spacingPage()})</script><section class=copyright>&copy;
2023 -
2025 <a href=./>Miaomi</a> <i class="fas fa-bell"></i> <a class=days>0</a> Days<br>14.4k字·12篇文章</br><span><p></section><script>var s1="2023-01-1",days,number_of_days,dayNum,s1=new Date(s1.replace(/-/g,"/"));s2=new Date,days=s2.getTime()-s1.getTime(),number_of_days=parseInt(days/(1e3*60*60*24)),dayNum=document.getElementsByClassName("days");for(let e=0;e<dayNum.length;e++)dayNum[e].innerHTML==="0"&&(dayNum[e].innerHTML=number_of_days)</script></footer></aside><aside></aside><main class="main full-width"><article class="has-image main-article"><header class=article-header><div class=article-image><a href=/2023/%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8hugo%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AA%E5%8D%9A%E5%AE%A2%E6%80%BB/><img src=/2023/%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8hugo%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AA%E5%8D%9A%E5%AE%A2%E6%80%BB/Journey_hu1d161e49501ed6cf448ab5500d479d0f_4442675_800x0_resize_box_3.png srcset="/2023/%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8hugo%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AA%E5%8D%9A%E5%AE%A2%E6%80%BB/Journey_hu1d161e49501ed6cf448ab5500d479d0f_4442675_800x0_resize_box_3.png 800w, /2023/%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8hugo%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AA%E5%8D%9A%E5%AE%A2%E6%80%BB/Journey_hu1d161e49501ed6cf448ab5500d479d0f_4442675_1600x0_resize_box_3.png 1600w" width=800 height=450 loading=lazy alt="Featured image of post 如何使用Hugo搭建一个博客(总)"></a></div><div class=article-details><h2 class=article-title><a href=/2023/%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8hugo%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AA%E5%8D%9A%E5%AE%A2%E6%80%BB/>如何使用Hugo搭建一个博客(总)</a></h2><footer class=article-time><div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg><time class=article-time--published>Jan 09, 2023</time></div><div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-keyboard" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><rect x="2" y="6" width="20" height="12" rx="2"/><line x1="6" y1="10" x2="6" y2="10"/><line x1="10" y1="10" x2="10" y2="10"/><line x1="14" y1="10" x2="14" y2="10"/><line x1="18" y1="10" x2="18" y2="10"/><line x1="6" y1="14" x2="6" y2="14.01"/><line x1="18" y1="14" x2="18" y2="14.01"/><line x1="10" y1="14" x2="14" y2="14"/></svg><time class=article-words>3268字</time></div><section class="article-tags widget"><a href=/tags/blog/>Blog</a></section></footer></div></header><section class=article-content><h2 id=博客规划>博客规划</h2><h3 id=定位>定位</h3><p>明确自己的核心需求就两个：</p><ul><li>技术笔记本</li><li>一些其他posts</li></ul><h3 id=页面规划>页面规划</h3><h4 id=主页>主页</h4><ul><li>参考一些博客、小说、视频、新闻网站，展示页适合使用摊开的卡片形式，可以一目了然地看到所有posts的信息</li><li><strong>posts在本博客中是使用tags来管理的、互相没有上下级关联的博文</strong></li></ul><h4 id=笔记>笔记</h4><ul><li>存放所有notes——以文档的形式罗列，每个note都具有总体章节目录和本节内容目录</li><li><strong>notes在本博客中是使用notes分类来管理、互相之间有层级关系的博文，且不会出现在主页展示</strong></li><li>由于页面的布局很满了，所以目录的滚动条都要隐藏，鼠标放在目录上能滚动即可</li><li>还有有种方式是折叠目录，但我更喜欢摊开的感觉</li></ul><h4 id=项目>项目</h4><p>存放一些小项目。</p><h4 id=存档>存档</h4><p>存放所有notes和posts中的博文，考虑到博文的数量，按年份来分隔比较合理，并且不需要分页，因为分页有种切割了时间流的感觉。</p><h4 id=关于>关于</h4><p>关于网站的信息和一些碎碎念。</p><h4 id=rss订阅>RSS订阅</h4><p>可以使用inoreader等RSS阅读器来订阅博文。</p><h2 id=搭建记录>搭建记录</h2><h3 id=一句话总结>一句话总结</h3><p>首先Hugo能够生成可以发布的静态网站文件，其次使用Git进行版本控制，每次修改后可以把源码传到GitHub，最后GitHub对Hugo建站有完整的支持组件（GitHub Actions、GitHub Pages），所以才能顺利完成一系列自动部署。</p><h3 id=初始化git仓库>初始化git仓库</h3><p>git是一个分布式版本控制系统，可以用来追踪博客的成长变动。</p><p>把存放博客的文件夹变成一个git仓库：</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span><span>git init
</span></span></code></pre></div><h3 id=本地安装hugo>本地安装Hugo</h3><ul><li>安装环境：Windows 10</li><li>安装步骤参考<a class=link href=https://gohugo.io/installation/windows/ target=_blank rel=noopener>官方文档</a>，或者<a class=link href=https://www.gohugo.org/ target=_blank rel=noopener>中文文档</a></li></ul><p>在这里我安装预编译的二进制版本，此版本是已经编译好的应用程序，不依赖Go环境，优点是可以直接运行，缺点是不能直接修改源码。</p><p>下载后需要添加环境变量，这样才能够在不同的文件夹中使用Hugo程序。在系统变量和用户变量的Path中都添加：<figure class=gallery-image style=flex-grow:232;flex-basis:557px><a href=/2023/%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8hugo%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AA%E5%8D%9A%E5%AE%A2%E6%80%BB/%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F1.PNG data-size=787x339><img src=/2023/%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8hugo%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AA%E5%8D%9A%E5%AE%A2%E6%80%BB/%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F1.PNG width=787 height=339 srcset="/2023/%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8hugo%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AA%E5%8D%9A%E5%AE%A2%E6%80%BB/%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F1_hubd3c44cabaa4dbc7e7268c48f253ce84_19414_720x0_resize_box_3.PNG 720w, /2023/%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8hugo%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AA%E5%8D%9A%E5%AE%A2%E6%80%BB/%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F1_hubd3c44cabaa4dbc7e7268c48f253ce84_19414_2048x0_resize_box_3.PNG 2048w" loading=lazy alt=hugo文件夹添加到系统变量></a><figcaption>hugo文件夹添加到系统变量</figcaption></figure></p><p>然后就可以进入想要存放博客的文件夹，使用命令创建新站：</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span><span>  hugo new site 项目名
</span></span></code></pre></div><p>此时在根目录文件夹下可以发现Hugo已经创建了一些文件夹：<figure class=gallery-image style=flex-grow:115;flex-basis:277px><a href=/2023/%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8hugo%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AA%E5%8D%9A%E5%AE%A2%E6%80%BB/hugo-new-site.png data-size=336x291><img src=/2023/%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8hugo%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AA%E5%8D%9A%E5%AE%A2%E6%80%BB/hugo-new-site.png width=336 height=291 srcset="/2023/%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8hugo%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AA%E5%8D%9A%E5%AE%A2%E6%80%BB/hugo-new-site_hu024b58fa8c27ca9c38c637832c2bdb3c_20084_720x0_resize_box_3.png 720w, /2023/%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8hugo%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AA%E5%8D%9A%E5%AE%A2%E6%80%BB/hugo-new-site_hu024b58fa8c27ca9c38c637832c2bdb3c_20084_2048x0_resize_box_3.png 2048w" loading=lazy alt=文件夹框架></a><figcaption>文件夹框架</figcaption></figure></p><h3 id=选择并了解hugo主题>选择并了解Hugo主题</h3><ul><li>本博客主题选用参考了<a class=link href=https://mantyke.icu/posts/2022/stack-theme-mod/ target=_blank rel=noopener>Hugo-stack-theme 主题魔改版</a></li><li>stack主题的特点之一是使用原生JS和CSS代码，没有使用框架。</li></ul><p>直接下载Stack主题到<code>./themes</code>文件夹中，并按照主题readme文档的提示进行一些配置。</p><p>再回到根目录下使用命令来预览：</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span><span>hugo server
</span></span></code></pre></div><p>这条命令会在运行内存中构建网站，并让网页跑在一个最小化的HTTP server中，这意味着可以一边修改网站一边看到修改效果。</p><p><figure class=gallery-image style=flex-grow:203;flex-basis:488px><a href=/2023/%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8hugo%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AA%E5%8D%9A%E5%AE%A2%E6%80%BB/exampleSite.png data-size=1910x939><img src=/2023/%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8hugo%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AA%E5%8D%9A%E5%AE%A2%E6%80%BB/exampleSite.png width=1910 height=939 srcset="/2023/%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8hugo%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AA%E5%8D%9A%E5%AE%A2%E6%80%BB/exampleSite_hue95e14092497efb160129548be181de8_490021_720x0_resize_box_3.png 720w, /2023/%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8hugo%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AA%E5%8D%9A%E5%AE%A2%E6%80%BB/exampleSite_hue95e14092497efb160129548be181de8_490021_2048x0_resize_box_3.png 2048w" loading=lazy alt="Example Site"></a><figcaption>Example Site</figcaption></figure></p><p>关于web server更详细的解释：</p><blockquote><p>While the server is running, it watches your project directory for changes to assets, configuration, content, data, layouts, translations, and static files. When it detects a change, the server rebuilds your site and refreshes your browser using <a class=link href=https://github.com/livereload/livereload-js target=_blank rel=noopener>LiveReload</a>.</p><p>about <a class=link href=https://github.com/livereload/livereload-js target=_blank rel=noopener>LiveReload</a>:
While the server is running, Hugo injects JavaScript into the generated HTML pages. The LiveReload script creates a connection from the browser to the server via web sockets. You do not need to install any software or browser plugins, nor is any configuration required.</p></blockquote><p>注意Hugo都是从根目录开始渲染的，所以如果根目录的layouts和contents有内容，就会忽略themes文件夹中的同名文件夹。</p><p>以及如果出现不同后缀名的config文件，不同格式的优先级是toml>yaml>json。</p><p>（优先级细节可查看官方文档的lookup order）</p><h3 id=创建网站>创建网站</h3><p>真正创建网站的是下面一行命令：</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span><span>hugo
</span></span></code></pre></div><p>此命令会在网站根目录下创建public文件夹，这里存放的就是整个完整的网站，如果把public文件夹放在IIS之类的web服务器上，稍加修改config.yaml文件中的baseurl后就能直接打开。</p><h3 id=搭建workflow>搭建workflow</h3><ul><li>静态博客的工作流理想状态是本地修改内容后推送到远端，推送命令会触发远端更新网站。</li><li>拆解这个过程：<ul><li>需要一个版本控制系统来管理每次修改的内容</li><li>远端需要有个存放源码的仓库</li><li>需要将网站源码推送到远端</li><li>远端需要一个静态网站托管服务/云主机</li><li>远端源码仓库有变动，就要重新用<code>hugo</code>命令生成一次public文件夹，并把变动后的public文件夹推送给托管网站/云主机</li><li>托管服务通过public文件夹展示网页</li></ul></li><li>对应的步骤是：<ul><li>使用git管理代码变化</li><li>将本地git仓库与GitHub仓库连接：<a class=link href=https://morimit.github.io/2023/connect-git-to-github/ title="connect git to GitHub">用 SSH 方式配置多个账号连接 GitHub</a></li><li>新建两个GitHub仓库（GitHub有提供静态网站托管服务——GitHub Pages）</li><li>存放源码的仓库中用GitHub Actions建立CI/CD：<a class=link href=https://morimit.github.io/2023/building-blog-with-github-actions/>Hugo workflow</a>（检测到git push操作后将public文件夹推送给GitHub Pages绑定的仓库）</li><li><a class=link href=https://morimit.github.io/2024/%E4%BD%BF%E7%94%A8%E4%B8%80%E4%B8%AAgithub-pages%E9%83%A8%E7%BD%B2%E5%A4%9A%E4%B8%AA%E9%A1%B9%E7%9B%AE/>使用GitHub Pages部署项目</a></li></ul></li></ul><p><figure class=gallery-image style=flex-grow:157;flex-basis:378px><a href=/2023/%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8hugo%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AA%E5%8D%9A%E5%AE%A2%E6%80%BB/workflow.png data-size=858x544><img src=/2023/%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8hugo%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AA%E5%8D%9A%E5%AE%A2%E6%80%BB/workflow.png width=858 height=544 srcset="/2023/%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8hugo%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AA%E5%8D%9A%E5%AE%A2%E6%80%BB/workflow_huc38099f18720b4766c07206bf31464ce_104388_720x0_resize_box_3.png 720w, /2023/%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8hugo%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AA%E5%8D%9A%E5%AE%A2%E6%80%BB/workflow_huc38099f18720b4766c07206bf31464ce_104388_2048x0_resize_box_3.png 2048w" loading=lazy alt=workflow></a><figcaption>workflow</figcaption></figure></p><p>完成上面的步骤后，就能够在公网上看到网站了。</p><h3 id=进阶修改主题>进阶：修改主题</h3><ul><li>直接上手修改会很捉急，因为Hugo并不是直接用html、css、js代码粘合的，还需要了解一些必要的Go模板语言知识</li><li>直接看官方文档又多又杂，即使看完getting started也容易依然一头雾水</li><li>所以建议可以从自己下载好的主题代码出发，了解：<ul><li>文件夹之间的对应关系</li><li>每个代码文件在页面中的作用</li><li>每个伪API的作用</li></ul></li><li>一些小tips：<ul><li><code>.</code>代表传入每个区域的上下文（context）</li><li>layouts文件夹中最重要的是index.html，它是整个网站的home页面布局。</li><li>baseof.html是layouts/_default中每个文件布局的模板</li><li>Hugo有leaf bundle和branch bundle的概念：<figure class=gallery-image style=flex-grow:125;flex-basis:301px><a href=/2023/%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8hugo%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AA%E5%8D%9A%E5%AE%A2%E6%80%BB/page-bundles.png data-size=1081x861><img src=/2023/%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8hugo%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AA%E5%8D%9A%E5%AE%A2%E6%80%BB/page-bundles.png width=1081 height=861 srcset="/2023/%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8hugo%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AA%E5%8D%9A%E5%AE%A2%E6%80%BB/page-bundles_hu271d0c518b02f3da3caa3ca38c78c429_260662_720x0_resize_box_3.png 720w, /2023/%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8hugo%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AA%E5%8D%9A%E5%AE%A2%E6%80%BB/page-bundles_hu271d0c518b02f3da3caa3ca38c78c429_260662_2048x0_resize_box_3.png 2048w" loading=lazy alt=图片来源：https://www.manning.com/books/hugo-in-action></a><figcaption>图片来源：https://www.manning.com/books/hugo-in-action</figcaption></figure></li><li>每个branch bundle都是section，section页面默认对应list.html，根目录的section页面（比如上图的about）对应_default文件夹中的同名html文件（about.html）</li><li>每个leaf bundle都是single页面，所有single页面对应single.html</li><li>Hugo没有subsection的概念，当section和subsection需要有不同布局的时候，如果不能修改生成器代码，就只能曲折地实现——把根目录下的section页面当作subsection</li><li>本博客中posts和notes中的单页面都对应single.html，但它们分属不同的section，所以可以拿sectionName来做区分</li><li>除了使用默认的tags和categories来分类外，可以自定义分类，本博客就自定义了notes分类。</li><li>layouts中相似的布局可以解耦出来，放到partials文件夹下。比如home页面和about页面都需要left banner，那么left banner就可以拆分出来作为一个组件。使用partials和定义blocks的区别：<figure class=gallery-image style=flex-grow:217;flex-basis:521px><a href=/2023/%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8hugo%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AA%E5%8D%9A%E5%AE%A2%E6%80%BB/partialsVSblocks.png data-size=798x367><img src=/2023/%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8hugo%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AA%E5%8D%9A%E5%AE%A2%E6%80%BB/partialsVSblocks.png width=798 height=367 srcset="/2023/%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8hugo%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AA%E5%8D%9A%E5%AE%A2%E6%80%BB/partialsVSblocks_hua0093f0633cfd52869cfb97cb95ae0d2_31184_720x0_resize_box_3.png 720w, /2023/%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8hugo%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AA%E5%8D%9A%E5%AE%A2%E6%80%BB/partialsVSblocks_hua0093f0633cfd52869cfb97cb95ae0d2_31184_2048x0_resize_box_3.png 2048w" loading=lazy alt=图片来源：https://www.manning.com/books/hugo-in-action></a><figcaption>图片来源：https://www.manning.com/books/hugo-in-action</figcaption></figure></li><li>Hugo支持在markdown文件中插入html代码，可以直接插入标签，也可以用Go模板语言调用layouts中定义的shortcodes。</li></ul></li><li>一些可能用到的参考：<ul><li><a class=link href=https://gohugo.io/methods/page/ target=_blank rel=noopener>Page methods：每个single页面的 <code>.</code> 都是page object</a></li><li><a class=link href=https://gohugo.io/functions/go-template/ target=_blank rel=noopener>Go template: functions, operators, and statements</a></li><li><a class=link href=https://gohugo.io/functions/collections/where/#operators target=_blank rel=noopener>collections.Where：常用来排除集合中某些项的函数</a></li><li><a class=link href=https://gohugo.io/functions/collections/ target=_blank rel=noopener>Collections functions：每个collection可以使用的函数</a></li><li><a class=link href=https://gohugo.io/functions/compare/ target=_blank rel=noopener>Compare functions：非常好用的比较函数</a></li><li><a class=link href=https://gohugo.io/getting-started/glossary/ target=_blank rel=noopener>Glossary of terms：不懂得术语可以随时在此查询</a></li></ul></li></ul><h3 id=添加内容>添加内容</h3><p>此时可以愉快地为博客添加内容了。因为每次添加frontmatter非常繁杂，所以建议基于archetypes文件夹中的模板来创建新markdown文档：</p><ul><li>archetypes文件夹中的每个文件对应一种内容类型，可以自定义：<ul><li><code>archetypes/default.md</code>：用于没有指定内容类型时的默认模板。</li><li><code>archetypes/post.md</code>：专门用于创建博客文章的模板。</li><li><code>archetypes/note.md</code>：专门用于创建笔记页面的模板。</li></ul></li><li>然后在根目录下，可以使用命令创建md文档：</li></ul><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span><span>hugo new post/my-first-post.md
</span></span></code></pre></div><h2 id=最后形成的使用动线>最后形成的使用动线</h2><p><a class=link href=https://morimit.github.io/2023/blog-workflow/>Blog Workflow</a></p><h2 id=参考>参考</h2><ul><li><a class=link href=https://gohugo.io/getting-started/quick-start/ target=_blank rel=noopener>Hugo Docs</a>: 内容多而全，适合查询</li><li><a class=link href=https://www.manning.com/books/hugo-in-action target=_blank rel=noopener>Hugo In Action</a>：系统且挑重点，适合快速过一遍</li><li><a class=link href=https://cloudcannon.com/community/learn/hugo-101/ target=_blank rel=noopener>Hugo tutorial by CloudCannon</a>: Got a roughly picture of the file hierarchy of Hugo.</li><li><a class=link href=https://pragprog.com/titles/bhhugo/ target=_blank rel=noopener>Build Websites with Hugo</a>: A complete guide.</li><li><a class=link href=https://fourxiajiao.github.io/2022/hugo-blog/ target=_blank rel=noopener>不是从零开始的 Hugo 建站笔记</a></li><li><a class=link href=https://www.mytechramblings.com/posts/create-a-website-with-hugo-and-gh/ target=_blank rel=noopener>Create and host a blog with Hugo and GitHub Pages in less than 30 minutes</a></li><li><a class=link href=https://mantyke.icu/posts/2021/cf2cf0fb/ target=_blank rel=noopener>Hugo | 在文章中插入轮播图片</a></li></ul></section><footer class=article-footer></footer></article><aside class=related-contents--wrapper><h2 class=section-title>Related contents</h2><div class=related-contents><div class="flex article-list--tile"><article class=has-image><a href=/2024/%E7%BB%99hugo%E5%8D%9A%E5%AE%A2%E6%B7%BB%E5%8A%A0waline%E8%AF%84%E8%AE%BA%E5%8C%BA%E5%B9%B6%E8%AE%BE%E7%BD%AE%E9%82%AE%E4%BB%B6%E9%80%9A%E7%9F%A5/><div class=article-image><img src=/2024/%E7%BB%99hugo%E5%8D%9A%E5%AE%A2%E6%B7%BB%E5%8A%A0waline%E8%AF%84%E8%AE%BA%E5%8C%BA%E5%B9%B6%E8%AE%BE%E7%BD%AE%E9%82%AE%E4%BB%B6%E9%80%9A%E7%9F%A5/waline.fe6f213d1e387b648ae843907389adb8_hu7ccfcd83de153e1606f392220db04414_121037_250x150_fill_box_smart1_3.png width=250 height=150 loading=lazy alt="Featured image of post 给Hugo博客添加Waline评论区并设置邮件通知" data-hash="md5-/m8hPR44e2SK6EOQc4mtuA=="></div><div class=article-details><h2 class=article-title>给Hugo博客添加Waline评论区并设置邮件通知</h2></div></a></article><article class=has-image><a href=/2024/%E7%BB%99hugo%E5%8D%9A%E5%AE%A2%E6%B7%BB%E5%8A%A0google-analytics/><div class=article-image><img src=/2024/%E7%BB%99hugo%E5%8D%9A%E5%AE%A2%E6%B7%BB%E5%8A%A0google-analytics/GA.7da1249eef685b5eb13531fa3261709d_hu7c586ecc9f921637190ef8e878e61ce6_110266_250x150_fill_box_smart1_3.png width=250 height=150 loading=lazy alt="Featured image of post 给Hugo博客添加Google Analytics" data-hash="md5-faEknu9oW16xNTH6MmFwnQ=="></div><div class=article-details><h2 class=article-title>给Hugo博客添加Google Analytics</h2></div></a></article><article class=has-image><a href=/2024/%E4%BD%BF%E7%94%A8%E4%B8%80%E4%B8%AAgithub-pages%E9%83%A8%E7%BD%B2%E5%A4%9A%E4%B8%AA%E9%A1%B9%E7%9B%AE/><div class=article-image><img src=/2024/%E4%BD%BF%E7%94%A8%E4%B8%80%E4%B8%AAgithub-pages%E9%83%A8%E7%BD%B2%E5%A4%9A%E4%B8%AA%E9%A1%B9%E7%9B%AE/pages0.120b06db584cedf3a823ae17fe0b04d7_hua59ada494a1898c539adc4763e474720_37595_250x150_fill_box_smart1_3.png width=250 height=150 loading=lazy alt="Featured image of post 使用一个GitHub pages部署多个项目" data-hash="md5-EgsG21hM7fOoI64X/gsE1w=="></div><div class=article-details><h2 class=article-title>使用一个GitHub pages部署多个项目</h2></div></a></article></div></div></aside><link rel=stylesheet href=https://unpkg.com/@waline/client@v3/dist/waline.css><div id=waline class=waline-container></div><style>.waline-container{background-color:var(--card-background);border-radius:var(--card-border-radius);box-shadow:var(--shadow-l1);padding:var(--card-padding);--waline-font-size:var(--article-font-size)}.waline-container .wl-count{color:var(--card-text-color-main)}</style><script type=module>
    import { init } from 'https://unpkg.com/@waline/client@v3/dist/waline.js';

    init({"avatar":"img/Miaomi.png","dark":"html[data-scheme=\"dark\"]","el":"#waline","emoji":["https://cdn.jsdelivr.net/gh/walinejs/emojis/weibo"],"lang":"en","locale":{"admin":"Admin"},"placeholder":"Welcome to leave your comments~","requiredMeta":["name","email","url"],"serverURL":"https://waline-comment-five-pi.vercel.app"});
  </script><footer class=site-footer><script>(function(e,t){var s=document,o="script",n=s.createElement(o),i=s.getElementsByTagName(o)[0];n.src=e,t&&n.addEventListener("load",function(e){t(e)}),i.parentNode.insertBefore(n,i)})("//cdn.bootcss.com/pangu/3.3.0/pangu.min.js",function(){pangu.spacingPage()})</script><section class=copyright>&copy;
2023 -
2025 <a href=./>Miaomi</a> <i class="fas fa-bell"></i> <a class=days>0</a> Days<br>14.4k字·12篇文章</br><span><p></section><script>var s1="2023-01-1",days,number_of_days,dayNum,s1=new Date(s1.replace(/-/g,"/"));s2=new Date,days=s2.getTime()-s1.getTime(),number_of_days=parseInt(days/(1e3*60*60*24)),dayNum=document.getElementsByClassName("days");for(let e=0;e<dayNum.length;e++)dayNum[e].innerHTML==="0"&&(dayNum[e].innerHTML=number_of_days)</script></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.css integrity="sha256-c0uckgykQ9v5k+IqViZOZKc47Jn7KQil4/MP3ySA3F8=" crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.css integrity="sha256-SBLU4vv6CA6lHsZ1XyTdhyjJxCjPif/TRkjnsyGAGnE=" crossorigin=anonymous></main><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#博客规划>博客规划</a><ol><li><a href=#定位>定位</a></li><li><a href=#页面规划>页面规划</a><ol><li><a href=#主页>主页</a></li><li><a href=#笔记>笔记</a></li><li><a href=#项目>项目</a></li><li><a href=#存档>存档</a></li><li><a href=#关于>关于</a></li><li><a href=#rss订阅>RSS订阅</a></li></ol></li></ol></li><li><a href=#搭建记录>搭建记录</a><ol><li><a href=#一句话总结>一句话总结</a></li><li><a href=#初始化git仓库>初始化git仓库</a></li><li><a href=#本地安装hugo>本地安装Hugo</a></li><li><a href=#选择并了解hugo主题>选择并了解Hugo主题</a></li><li><a href=#创建网站>创建网站</a></li><li><a href=#搭建workflow>搭建workflow</a></li><li><a href=#进阶修改主题>进阶：修改主题</a></li><li><a href=#添加内容>添加内容</a></li></ol></li><li><a href=#最后形成的使用动线>最后形成的使用动线</a></li><li><a href=#参考>参考</a></li></ol></nav></div></section></aside></div><button class="back-to-top hidden">TOP</button>
<script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.5/dist/vibrant.min.js integrity="sha256-5NovOZc4iwiAWTYIFiIM7DxKUXKWvpVEuMEPLzcm5/g=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.js defer></script><div class=mask></div></body></html>